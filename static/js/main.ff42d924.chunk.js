(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i,c,a=n(0),r=n.n(a),o=n(9),u=n.n(o),s=(n(17),n(2));!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT"}(i||(i={})),function(e){e.MENU="MENU",e.PLAY="PLAY",e.END="END"}(c||(c={}));var d=n(5),l=n(6),h=function(){function e(t,n){Object(d.a)(this,e),this.x=t,this.y=n}return Object(l.a)(e,[{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}}],[{key:"random",value:function(t){return new e(Math.floor(Math.random()*t),Math.floor(Math.random()*t))}}]),e}(),f=n(1),y=n(10),b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.RIGHT;Object(d.a)(this,e),this.body=t,this.direction=n}return Object(l.a)(e,[{key:"getHead",value:function(){return this.body[0]}},{key:"hasEatenSelf",value:function(){var e=Object(y.a)(this.body),t=e[0];return e.slice(1).findIndex(function(e){return e.equals(t)})>=0}},{key:"feedSnake",value:function(){var t=this.body[this.body.length-1];switch(this.direction){case i.TOP:return new e([].concat(Object(f.a)(this.body),[new h(t.x,t.y-1)]),this.direction);case i.BOTTOM:return new e([].concat(Object(f.a)(this.body),[new h(t.x,t.y+1)]),this.direction);case i.LEFT:return new e([].concat(Object(f.a)(this.body),[new h(t.x+1,t.y)]),this.direction);case i.RIGHT:return new e([].concat(Object(f.a)(this.body),[new h(t.x-1,t.y-1)]),this.direction)}return this}},{key:"move",value:function(){switch(this.direction){case i.TOP:return new e([new h(this.body[0].x,this.body[0].y-1)].concat(Object(f.a)(this.body.slice(0,this.body.length-1))),this.direction);case i.BOTTOM:return new e([new h(this.body[0].x,this.body[0].y+1)].concat(Object(f.a)(this.body.slice(0,this.body.length-1))),this.direction);case i.LEFT:return new e([new h(this.body[0].x-1,this.body[0].y)].concat(Object(f.a)(this.body.slice(0,this.body.length-1))),this.direction);case i.RIGHT:return new e([new h(this.body[0].x+1,this.body[0].y)].concat(Object(f.a)(this.body.slice(0,this.body.length-1))),this.direction)}return this}},{key:"setDirection",value:function(t){return this.canChangeDirection(t)?new e(this.body,t):this}},{key:"canChangeDirection",value:function(e){switch(e){case i.TOP:return this.direction!==i.BOTTOM;case i.BOTTOM:return this.direction!==i.TOP;case i.LEFT:return this.direction!==i.RIGHT;case i.RIGHT:return this.direction!==i.LEFT;default:return!0}}}],[{key:"initialSnake",value:function(t){return new e([new h(t/2,t/2),new h(t/2,t/2+1)],i.LEFT)}}]),e}(),O=(n(18),n(19),function(){return r.a.createElement("div",{className:"Cell"})}),m=(n(20),function(){return r.a.createElement("div",{className:"Fruit"})}),E=Object(a.createContext)({state:c.MENU,onStateChange:function(e){}}),k=(n(21),function(){var e=Object(a.useContext)(E),t=e.state,n=e.onStateChange,i=Object(a.useCallback)(function(){t===c.MENU&&n(c.PLAY)},[t,n]);return r.a.createElement("div",{className:"Menu"},r.a.createElement("div",null,r.a.createElement("button",{className:"MenuResumeButton",onClick:i},"RESUME")))}),T=(n(22),function(){return r.a.createElement("div",{className:"SnakeBody"})}),v=(n(23),function(){return r.a.createElement("div",{className:"SnakeHead"})}),w=function(e){var t=e.fruit,n=e.snake,i=e.gridSize,a=e.state;return r.a.createElement("div",{className:"Game"},a===c.MENU&&r.a.createElement(k,null),Array.from({length:i}).map(function(e,t){return t}).map(function(e){return r.a.createElement("div",{className:"OsX",key:e},Array.from({length:i}).map(function(e,t){return t}).map(function(i){var c=n.body.findIndex(function(t){return t.x===i&&t.y===e});return c>=0?0===c?r.a.createElement(v,{key:i}):r.a.createElement(T,{key:i}):i===t.x&&e===t.y?r.a.createElement(m,{key:i}):r.a.createElement(O,{key:i})}))}))},j=(n(24),setInterval(function(){},1e6)),M=function(){var e=Object(a.useState)(c.PLAY),t=Object(s.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)(300),d=Object(s.a)(u,2),l=d[0],f=d[1],y=Object(a.useState)(h.random(50)),O=Object(s.a)(y,2),m=O[0],k=O[1],T=Object(a.useState)(b.initialSnake(50)),v=Object(s.a)(T,2),M=v[0],g=v[1];return Object(a.useEffect)(function(){document.onkeydown=function(e){38===e.keyCode||87===e.keyCode?g(function(e){return e.setDirection(i.TOP)}):40===e.keyCode||83===e.keyCode?g(function(e){return e.setDirection(i.BOTTOM)}):37===e.keyCode||65===e.keyCode?g(function(e){return e.setDirection(i.LEFT)}):39===e.keyCode||68===e.keyCode?g(function(e){return e.setDirection(i.RIGHT)}):27===e.keyCode&&n===c.PLAY&&o(c.MENU)}},[n]),Object(a.useEffect)(function(){clearInterval(j),j=setInterval(function(){n===c.PLAY&&g(function(e){var t=e.move(),n=t.hasEatenSelf();return console.log(["snakeEatenSelf"],n),t})},l)},[n,l]),Object(a.useEffect)(function(){M.getHead().equals(m)&&(g(function(e){return e.feedSnake()}),k(h.random(50)),f(function(e){return Math.ceil(.7*e)}))},[M,m]),r.a.createElement("div",{className:"App"},r.a.createElement(E.Provider,{value:{state:n,onStateChange:o}},r.a.createElement(w,{gridSize:50,snake:M,fruit:m,state:n})))};u.a.render(r.a.createElement(M,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.ff42d924.chunk.js.map