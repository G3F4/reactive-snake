(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,i,c=n(0),r=n.n(c),o=n(9),u=n.n(o);n(17);!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT"}(a||(a={})),function(e){e.MENU="MENU",e.PLAY="PLAY",e.END="END"}(i||(i={}));n(18),n(19);var s=function(){return r.a.createElement("div",{className:"Cell"})},d=Object(c.createContext)({state:i.MENU,onResetGame:function(){},onStateChange:function(e){}}),l=(n(20),function(){var e=Object(c.useContext)(d).onResetGame;return r.a.createElement("div",{className:"End"},r.a.createElement("div",null,r.a.createElement("button",{className:"EndResumeButton",onClick:e},"PLAY AGAIN")))}),f=(n(21),function(){return r.a.createElement("div",{className:"Fruit"})}),h=(n(22),function(){var e=Object(c.useContext)(d),t=e.state,n=e.onStateChange,a=Object(c.useCallback)(function(){t===i.MENU&&n(i.PLAY)},[t,n]);return r.a.createElement("div",{className:"Menu"},r.a.createElement("div",null,r.a.createElement("button",{className:"MenuResumeButton",onClick:a},"RESUME")))}),y=(n(23),function(){return r.a.createElement("div",{className:"SnakeBody"})}),b=(n(24),function(){return r.a.createElement("div",{className:"SnakeHead"})}),m=function(e){var t=e.fruit,n=e.snake,a=e.gridSize,c=e.state;return r.a.createElement("div",{className:"Game"},c===i.MENU&&r.a.createElement(h,null),c===i.END&&r.a.createElement(l,null),Array.from({length:a}).map(function(e,t){return t}).map(function(e){return r.a.createElement("div",{className:"OsX",key:e},Array.from({length:a}).map(function(e,t){return t}).map(function(a){var i=n.body.findIndex(function(t){return t.x===a&&t.y===e});return i>=0?0===i?r.a.createElement(b,{key:a}):r.a.createElement(y,{key:a}):a===t.x&&e===t.y?r.a.createElement(f,{key:a}):r.a.createElement(s,{key:a})}))}))},O=(n(25),n(2)),E=n(5),v=n(6),k=function(){function e(t,n){Object(E.a)(this,e),this.x=t,this.y=n}return Object(v.a)(e,[{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}}],[{key:"random",value:function(t){return new e(Math.floor(Math.random()*t),Math.floor(Math.random()*t))}}]),e}(),T=n(1),w=n(10),j=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.RIGHT;Object(E.a)(this,e),this.body=t,this.direction=n}return Object(v.a)(e,[{key:"getHead",value:function(){return this.body[0]}},{key:"hasEatenSelf",value:function(){var e=Object(w.a)(this.body),t=e[0];return e.slice(1).findIndex(function(e){return e.equals(t)})>=0}},{key:"hasLeftGrid",value:function(e){var t=Object(O.a)(this.body,1)[0];return t.x<0||t.y<0||t.x>e-1||t.y>e-1}},{key:"feedSnake",value:function(){var t=this.body[this.body.length-1];switch(this.direction){case a.TOP:return new e([].concat(Object(T.a)(this.body),[new k(t.x,t.y-1)]),this.direction);case a.BOTTOM:return new e([].concat(Object(T.a)(this.body),[new k(t.x,t.y+1)]),this.direction);case a.LEFT:return new e([].concat(Object(T.a)(this.body),[new k(t.x+1,t.y)]),this.direction);case a.RIGHT:return new e([].concat(Object(T.a)(this.body),[new k(t.x-1,t.y-1)]),this.direction)}return this}},{key:"move",value:function(){switch(this.direction){case a.TOP:return new e([new k(this.body[0].x,this.body[0].y-1)].concat(Object(T.a)(this.body.slice(0,this.body.length-1))),this.direction);case a.BOTTOM:return new e([new k(this.body[0].x,this.body[0].y+1)].concat(Object(T.a)(this.body.slice(0,this.body.length-1))),this.direction);case a.LEFT:return new e([new k(this.body[0].x-1,this.body[0].y)].concat(Object(T.a)(this.body.slice(0,this.body.length-1))),this.direction);case a.RIGHT:return new e([new k(this.body[0].x+1,this.body[0].y)].concat(Object(T.a)(this.body.slice(0,this.body.length-1))),this.direction)}return this}},{key:"setDirection",value:function(t){return this.canChangeDirection(t)?new e(this.body,t):this}},{key:"canChangeDirection",value:function(e){switch(e){case a.TOP:return this.direction!==a.BOTTOM;case a.BOTTOM:return this.direction!==a.TOP;case a.LEFT:return this.direction!==a.RIGHT;case a.RIGHT:return this.direction!==a.LEFT;default:return!0}}}],[{key:"initialSnake",value:function(t){return new e([new k(t/2,t/2),new k(t/2,t/2+1)],a.LEFT)}}]),e}(),S=setInterval(function(){},1e6),C=function(){var e=function(){var e=Object(c.useState)(i.PLAY),t=Object(O.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(300),u=Object(O.a)(o,2),s=u[0],d=u[1],l=Object(c.useState)(k.random(50)),f=Object(O.a)(l,2),h=f[0],y=f[1],b=Object(c.useState)(j.initialSnake(50)),m=Object(O.a)(b,2),E=m[0],v=m[1];Object(c.useEffect)(function(){document.onkeydown=function(e){38===e.keyCode||87===e.keyCode?v(function(e){return e.setDirection(a.TOP)}):40===e.keyCode||83===e.keyCode?v(function(e){return e.setDirection(a.BOTTOM)}):37===e.keyCode||65===e.keyCode?v(function(e){return e.setDirection(a.LEFT)}):39===e.keyCode||68===e.keyCode?v(function(e){return e.setDirection(a.RIGHT)}):27===e.keyCode&&n===i.PLAY&&r(i.MENU)}},[n]),Object(c.useEffect)(function(){clearInterval(S),S=setInterval(function(){n===i.PLAY&&v(function(e){var t=e.move(),n=t.hasEatenSelf(),a=t.hasLeftGrid(50);return n||a?(r(i.END),e):t})},s)},[n,s]),Object(c.useEffect)(function(){E.getHead().equals(h)&&(v(function(e){return e.feedSnake()}),y(k.random(50)),d(function(e){return Math.ceil(.7*e)}))},[E,h]);var T=Object(c.useCallback)(function(){r(i.PLAY),v(j.initialSnake(50))},[]);return{snake:E,fruit:h,gameState:n,setGameState:r,handleResetGame:T}}(),t=e.snake,n=e.setGameState,o=e.gameState,u=e.fruit,s=e.handleResetGame;return r.a.createElement("div",{className:"App"},r.a.createElement(d.Provider,{value:{state:o,onStateChange:n,onResetGame:s}},r.a.createElement(m,{gridSize:50,snake:t,fruit:u,state:o})))};u.a.render(r.a.createElement(C,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.fba9fe42.chunk.js.map